@{
    Layout = null;
    FlowStepSetting currentStep = ViewBag.CurrentStep;
    Dictionary<string, string> prevSteps = ViewBag.PrevSteps;
    int i = 0;
    int backType = currentStep.BackCategory.ToInt();//退回类型
}

<table cellpadding="0" cellspacing="1" border="0" width="95%" align="center" style="margin-top:6px;">
    @foreach (var step in prevSteps)
    {
        string checked1 = string.Empty;
        if ((backType == 2 && step.Key == currentStep.BackStep) || currentStep.CountersignPolicy.ToInt() != 0)
        {
            checked1 = "checked=\"checked\""; i++;
        }
        else
        {
            checked1 = !step.Key.ToString().IsNullOrEmpty() && i++ == 0 ? "checked=\"checked\"" : "";
        }
        string disabled = step.Key.ToString().IsNullOrEmpty() || currentStep.CountersignPolicy.ToInt() != 0 ? "disabled=\"disabled\"" : "";
    <tr>
        <td style="padding:9px 0 2px 0;">
        <input type="hidden" name="nextstepid" value="@step" />
        <input type="checkbox" value="@step.Key" @Html.Raw(checked1) @Html.Raw(disabled) name="stepid" id="step_@step.Key" style="vertical-align:middle;" />
        <label for="step_@step.Key" style="vertical-align:middle;">@step.Value</label>
        </td>
    </tr>
    <tr><td style="height:6px; border-bottom:1px dashed #e8e8e8;"></td></tr>
    }
</table>
